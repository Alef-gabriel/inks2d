import { a } from './chunk-JXTEU5XG.js';

var n=[],h=[],r=[],l=[],b=[],c=[];var u=class{_layer=0;_draggable=!1;_visible=!0;_rotation=0;_children=[];position=new a(0,0);velocity=new a(0,0);acceleration=new a(0,0);friction=new a(.96,.96);gravity=new a(0,0);width=0;height=0;bounds={x:0,y:0,width:0,height:0};name="";mass=1;alpha=1;renderOutside=!1;scale=new a(1,1);allowVerticalDrag=!0;allowHorizontalDrag=!0;allowFocusDrag=!0;pivot=new a(.5,.5);parent;shadow=!1;shadowColor="rgba(100, 100, 100, 0.5)";shadowOffsetX=3;shadowOffsetY=3;shadowBlur=3;isOnViewport=!0;blendMode="source-over";filter="none";frames=[];loop=!0;fillStyle="gray";strokeStyle="none";lineWidth=0;mask=!1;customProperties={};get rotation(){return this._rotation}set rotation(i){this._rotation=i%(Math.PI*2);}get gx(){return this.parent!=null?this.position.x+this.parent.gx:this.position.x}get gy(){return this.parent!=null?this.position.y+this.parent.gy:this.position.y}get layer(){return this._layer}set layer(i){this._layer=i,this.parent!=null&&this.parent.children.sort((t,e)=>t.layer-e.layer);}get visible(){return this.parent!=null&&!this.parent.visible?!1:this._visible}set visible(i){this._visible=i;}get children(){return this._children}get halfWidth(){return this.width/2}get halfHeight(){return this.height/2}get centerX(){return this.localCenterX}get centerY(){return this.localCenterY}get localCenterX(){return this.position.x-this.width*this.pivot.x+this.bounds.x+this.bounds.width/2}get localCenterY(){return this.position.y-this.height*this.pivot.y+this.bounds.y+this.bounds.height/2}get globalCenterX(){return this.gx-this.width*this.pivot.x+this.bounds.x+this.bounds.width/2}get globalCenterY(){return this.gy-this.height*this.pivot.y+this.bounds.y+this.bounds.height/2}localBounds(){return {x:this.position.x+this.bounds.x,y:this.position.y+this.bounds.y,width:this.bounds.width,height:this.bounds.height}}globalBounds(){return {x:this.gx+this.bounds.x,y:this.gy+this.bounds.y,width:this.bounds.width,height:this.bounds.height}}get empty(){return this.children.length===0}get draggable(){return this._draggable}set draggable(i){if(i){n.push(this),this._draggable=!0;return}n.splice(n.indexOf(this),1);}added(){}update(){}destroy(){for(let i=this.children.length-1;i>=0;i--){let t=this.children[i];this.removeChild(t);}}move(){this.velocity=this.velocity.add(this.acceleration),this.velocity.x*=this.friction.x,this.velocity.y*=this.friction.y,Math.abs(this.velocity.x)<.05&&Math.abs(this.velocity.y)<.05&&(this.acceleration.x=0,this.acceleration.y=0),this.velocity=this.velocity.add(this.gravity),this.position=this.position.add(this.velocity);}addChild(i){i.parent!=null&&i.parent.remove(i),i.parent=this,i.bounds.width===0&&(i.bounds.width=i.width),i.bounds.height===0&&(i.bounds.height=i.height),this.children.push(i),i.added();let t=i.layer;t!==0&&(i.layer=t);}removeChild(i){if(i.parent===this){let t=h.indexOf(i),e=n.indexOf(i),s=r.indexOf(i),a=l.indexOf(i);return this.children.splice(this.children.indexOf(i),1),t!==-1&&h.splice(t,1),e!==-1&&n.splice(e,1),s!==-1&&r.splice(s,1),a!==-1&&l.splice(a,1),i.destroy(),i.parent=void 0,!0}throw new Error(`${JSON.stringify(i)} is not a child of ${JSON.stringify(this)}`)}putTop(i,t=0,e=0){e*=-1,i.position.x=this.position.x+this.halfWidth-i.halfWidth+t,i.position.y=this.position.y-i.height+e;}putRight(i,t=0,e=0){i.position.x=this.position.x+this.width+t,i.position.y=this.position.y+this.halfHeight-i.halfHeight+e;}putBottom(i,t=0,e=0){i.position.x=this.position.x+this.halfWidth-i.halfWidth+t,i.position.y=this.position.y+this.height+e;}putLeft(i,t=0,e=0){t*=-1,i.position.x=this.position.x-i.width+t,i.position.y=this.position.y+this.halfHeight-i.halfHeight+e;}putCenter(i,t=0,e=0){i.position.x=this.position.x-this.width*this.pivot.x+this.halfWidth+t,i.position.y=this.position.y-this.height*this.pivot.y+this.halfHeight+e;}swapChildren(i,t){let e=this.children.indexOf(i),s=this.children.indexOf(t);if(e!==-1&&s!==-1){this.children[e]=t,this.children[s]=i;return}throw new Error(`Both objects must be a child of the calle ${JSON.stringify(this)}`)}add(...i){i.forEach(t=>{this.addChild(t);});}remove(...i){i.forEach(t=>this.removeChild(t));}};

export { n as a, h as b, r as c, l as d, b as e, c as f, u as g };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=chunk-6LMX6XHW.js.map