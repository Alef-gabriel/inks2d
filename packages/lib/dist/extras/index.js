import { a as a$2 } from '../chunk-QQ527P2G.js';
import { a as a$1 } from '../chunk-NIVAMNAF.js';
import { c as c$1 } from '../chunk-LBFLB5D3.js';
import { g } from '../chunk-RM5BZPL6.js';
import { a } from '../chunk-YI57HGPY.js';
import { b } from '../chunk-7TAUG27C.js';
import '../chunk-BW6TL2PK.js';
import { c } from '../chunk-GJBY4KIL.js';
import '../chunk-6LMX6XHW.js';
import { a as a$3 } from '../chunk-JXTEU5XG.js';

var l=class extends c{_tileGrid;constructor(i,t,e){super(t,e,"none","none");let s,h,r,a$1;this.pivot.x=this.pivot.y=0,this.renderOutside=!0,this.mask=!0,i.frame?(s=i.frame.w,h=i.frame.h):(s=i.width,h=i.height),t>=s?r=Math.round(t/s)+1:r=2,e>=h?a$1=Math.round(e/h)+1:a$1=2,this._tileGrid=new b(r,a$1,s,h,!1,0,0,()=>{let d=new a(i);return d.pivot.x=d.pivot.y=0,d}),this._tileGrid.pivot.x=this._tileGrid.pivot.y=0,this._tileGrid.dynamicSize=!0,this._tileGrid.renderOutside=!0,this._tileGrid.position.x=-(this._tileGrid.width-this.width),this._tileGrid.position.y=-(this._tileGrid.height-this.height);}added(){this.addChild(this._tileGrid);}setTileX(i){if(this._tileGrid.position.x+=i,this._tileGrid.position.x>=i){this._tileGrid.position.x=-(this._tileGrid.width-this.width-i);return}this._tileGrid.position.x<-(this._tileGrid.width-this.width)&&(this._tileGrid.position.x=i);}setTileY(i){if(this._tileGrid.position.y+=i,this._tileGrid.position.y>=i){this._tileGrid.position.y=-(this._tileGrid.height-this.height-i);return}this._tileGrid.position.y<-(this._tileGrid.height-this.height)&&(this._tileGrid.position.y=i);}setAlpha(i){this._tileGrid.alpha=i;}getAlpha(){return this._tileGrid.alpha}};var p=class extends a$1{_loader=new c(1080,1920,"black");_assetsToLoad;_image;_callback;_forceClick;_g;_ctaText;_yOffset;constructor(i,t,e,s,h,r="TAP TO START",a=0){super(),this._assetsToLoad=i,this._image=t,this._callback=e,this._forceClick=s,this._g=h,this._ctaText=r,this._yOffset=a;}start(i){super.start(i),this._loader.pivot.x=this._loader.pivot.y=0,this._loader.width=this._g.stage.width,this._loader.height=this._g.stage.height,this._g.stage.addChild(this._loader),this._assetsToLoad&&this.loadAssets();}loadAssets(){this._image.pivot.x=this._image.pivot.y=.5,this.updateObjScale(this._image),this._loader.putCenter(this._image),this._loader.addChild(this._image);let i=this._g.stage.width/2.5,t=new c(i,50,"gray","black",2,5);t.pivot.x=0,this.updateObjSize(t),t.width=i-3,t.position.x=540-210,t.position.y=960+this._image.height/2+t.height+this._yOffset,this.updateObjPos(t),this._loader.addChild(t);let e=new c(0,50,"#ddd","none",2,1);e.pivot.x=0,this.updateObjSize(e),e.position.x=540-210,e.position.y=960+this._image.height/2+t.height+this._yOffset,this.updateObjPos(e),this._loader.addChild(e),this._g.loader.onUpdate=(s,h)=>{let r=Math.floor(s*100/h);e.width=r*i/100;},this._g.loader.onComplete=()=>{this.startGame();},this._g.loader.load(this._assetsToLoad);}updateObjScale(i){i.scale.x=this._g.stage.width*i.scale.x/1080,i.scale.y=this._g.stage.height*i.scale.y/1920;}updateObjSize(i){i.width=this._g.stage.width*i.width/1080,i.height=this._g.stage.height*i.height/1920;}updateObjPos(i){i.position.x=this._g.stage.width*i.position.x/1080,i.position.y=this._g.stage.height*i.position.y/1920;}startGame(){if(!this._forceClick){g(2e3).then(()=>{this._callback&&this._callback();});return}let i=new a$2(this._ctaText,48,"white");i.family="ubuntu",i.pivot.x=i.pivot.y=.5,i.position.x=540+8,i.position.y=960+this._image.height/2+90+this._yOffset,i.size=this._g.stage.width*i.size/1080,this.updateObjPos(i),this._loader.addChild(i),this._g.pointer.release=()=>{this._g.pointer.release=void 0,this._callback&&this._callback();};}};var _=class extends c{_delay;onBetween;constructor(i,t,e="black"){super(t.stage.width,t.stage.height,e),this.pivot=new a$3,this.alpha=0,this._delay=i;}start(i=!0){let t=new c$1;t.onComplete=()=>{this.onBetween&&this.onBetween();},t.onUpdate=({alpha:s})=>{this.alpha=s;},t.from({alpha:0}).to({alpha:1}).duration(this._delay);let e=new c$1;e.onComplete=()=>{i&&this.parent?.removeChild(this);},e.onUpdate=({alpha:s})=>{this.alpha=s;},e.from({alpha:1}).to({alpha:0}).duration(this._delay),t.chain(e),t.start();}};

export { l as Backdrop, p as SplashScreen, _ as TransitionScreen };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map