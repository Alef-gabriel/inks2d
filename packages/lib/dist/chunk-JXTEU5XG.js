var i=class{_x;_y;constructor(t=0,n=0){this._x=t,this._y=n;}clone(){return new i(this._x,this._y)}zero(){return this._x=0,this._y=0,this}isZero(){return this._x===0&&this._y===0}get x(){return this._x}set x(t){this._x=t;}get y(){return this._y}set y(t){this._y=t;}get length(){return Math.sqrt(this.lengthSquared)}set length(t){this._x=Math.cos(this.angle)*t,this._y=Math.sin(this.angle)*t;}get lengthSquared(){return this._x*this._x+this._y*this._y}get angle(){return Math.atan2(this._y,this._x)}set angle(t){this._x=Math.cos(t)*this.length,this._y=Math.sin(t)*this.length;}set(t=0,n=0){this.x=t,this.y=n;}truncate(t){return this.length=Math.min(t,this.length),this}isNormalized(){return this.length===1}dist(t){return Math.sqrt(this.distSquared(t))}distSquared(t){let n=t.x-this.x,r=t.y-this.y;return n*n+r*r}add(t){return new i(this._x+t.x,this._y+t.y)}subtract(t){return new i(this._x-t.x,this._y-t.y)}multiply(t){return new i(this._x*t,this._y*t)}divide(t){return new i(this._x/t,this._y/t)}equals(t){return this._x===t.x&&this._y===t.y}};var s=class{_a;_b;_vx=0;_vy=0;_scaleAmount=0;constructor(t=new i(0,0),n=new i(0,0),r=1){this._a=t,this._b=n,this.scaleAmount=r;}get a(){return this._a}get b(){return this._b}get vx(){return this._vx===0?this._b.x-this._a.x:this._vx}set vx(t){this._vx=t;}get vy(){return this._vy===0?this._b.y-this._a.y:this._vy}set vy(t){this._vy=t;}get angle(){return Math.atan2(this.vy,this.vx)}set angle(t){this.b.x=this.a.x+Math.cos(t)*this.length,this.b.y=this.a.y+Math.sin(t)*this.length;}get length(){return this.vx!==0||this.vy!==0?Math.sqrt(this.lengthSquared):.001}set length(t){this._b.x=this._a.x+this.normalized.x*t,this._b.y=this._a.y+this.normalized.y*t;}get lengthSquared(){return this.vx*this.vx+this.vy*this.vy}get leftNormal(){let t=new s,n=this.vy,r=-this.vx;return this._vx===0&&this._vy===0?(t.a.x=this.a.x,t.a.y=this.a.y,t.b.x=this.a.x+n,t.b.y=this.a.y+r):(t.vx=this.vx,t.vy=this.vy),t}get rightNormal(){let t=new s,n=-this.vy,r=this.vx;return this._vx===0&&this._vy===0?(t.a.x=this.a.x,t.a.y=this.a.y,t.b.x=this.a.x+n,t.b.y=this.a.y+r):(t.vx=this.vx,t.vy=this.vy),t}get normalized(){let t=new i(.001,.001);return this.length!==0&&(t.x=this.vx/this.length,t.y=this.vy/this.length),t}get scaleAmount(){return this._scaleAmount}set scaleAmount(t){let n=this.length*t;this.length=n,this._scaleAmount=t;}dotProd(t){return this.vx*t.normalized.x+this.vy*t.normalized.y}projection(t){let n=this.dotProd(t),r=new i(t.normalized.x*n,t.normalized.y*n);return new s(t.a.clone(),t.a.add(r))}reverse(){this.angle+=Math.PI;}perpDotProd(t){return this.leftNormal.vx*t.normalized.x+this.leftNormal.vy*t.normalized.y}get perp(){return new s(new i(this.a.x,this.a.y),new i(-this.vy,this.vx))}sign(t){return this.perp.dotProd(t)<0?-1:1}clone(){let t=new s(this.a,this.b);return t.vx=this.vx,t.vy=this.vy,t}draw(t,n=!0){if(t.strokeStyle="red",t.lineWidth=1,t.beginPath(),t.moveTo(this.a.x,this.a.y),t.lineTo(this.b.x,this.b.y),t.stroke(),!n&&(t.strokeStyle="black",t.beginPath(),t.moveTo(this.a.x,this.a.y),t.lineTo(this.b.x,this.a.y),t.stroke(),t.strokeStyle="black",t.beginPath(),t.moveTo(this.b.x,this.a.y),t.lineTo(this.b.x,this.b.y),t.stroke(),t.beginPath(),t.moveTo(this.a.x,this.a.y),t.lineTo(this.rightNormal.b.x,this.rightNormal.b.y),t.stroke(),t.beginPath(),t.moveTo(this.a.x,this.a.y),t.lineTo(this.leftNormal.b.x,this.leftNormal.b.y),t.stroke(),this.length>20)){let r=this.a.x+this.vx+20;this.vx>10&&(r-=Math.floor(t.measureText("vx").width)+20),t.textBaseline="bottom",t.textAlign="right",t.fillText("vx",r,this.a.y),t.save();let o=this.a.x+this.vx,h=this.a.y-20,l=270*Math.PI/180;this.vy>10&&(h=this.a.y+20,l=Math.PI/2),t.translate(o,h),t.rotate(l),t.textBaseline="bottom",t.textAlign="right",t.fillText("vy",0,0),t.restore(),t.save(),t.translate(this.rightNormal.b.x,this.rightNormal.b.y),t.rotate(this.rightNormal.angle),t.fillText("rn",0,0),t.restore(),t.save(),t.translate(this.leftNormal.b.x,this.leftNormal.b.y),t.rotate(this.leftNormal.angle),t.fillText("ln",0,0),t.restore();}}};var a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,y=(e,t)=>e+Math.random()*(t-e),m=e=>{let t=a(0,e.length-1);return e[t]},v=e=>{e=e.concat([]);for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*t),r=e[t],o=e[n];e[n]=r,e[t]=o;}return e},d=e=>e*Math.PI/180,_=e=>e*180/Math.PI,c=e=>.5+e|0,f=(e,t)=>Math.atan2(t.localCenterY-e.localCenterY,t.localCenterX-e.localCenterX),P=(e,t)=>{let n=t.localCenterX-e.localCenterX,r=t.localCenterY-e.localCenterY;return Math.sqrt(n*n+r*r)},g=(e,t,n)=>e<t?t:e>n?n:e;

export { i as a, s as b, a as c, y as d, m as e, v as f, d as g, _ as h, c as i, f as j, P as k, g as l };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=chunk-JXTEU5XG.js.map