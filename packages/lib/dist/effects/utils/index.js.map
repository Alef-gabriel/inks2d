{"version":3,"sources":["../../../src/effects/utils/index.ts"],"names":["fadeIn","sprite","duration","easing","Easing","interpolation","Interpolation","tween","Tween","props","fadeOut","pulse","minAlpha","slide","to","Point","blink","yoyo","playSfx","frequencyValue","attack","decay","type","volumeValue","panValue","wait","randomValue","sfx","Sound","randomInt"],"mappings":"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","sourcesContent":["import { DisplayObject } from \"DisplayObject\";\nimport { Point, randomInt } from \"inks2d/math\";\nimport { Easing, Interpolation, Tween } from \"inks2d/effects/tweens\";\nimport { Sound } from \"inks2d/effects/sfx\";\n\nexport const fadeIn = (\n\tsprite: DisplayObject,\n\tduration: number,\n\teasing = Easing.Linear.None,\n\tinterpolation = Interpolation.Linear,\n): Tween => {\n\tconst tween = new Tween();\n\ttween.onUpdate = (props) => {\n\t\tsprite.alpha = props.alpha;\n\t};\n\ttween\n\t\t.from({ alpha: sprite.alpha })\n\t\t.to({ alpha: 1 })\n\t\t.duration(duration)\n\t\t.easing(easing)\n\t\t.interpolation(interpolation)\n\t\t.start();\n\n\treturn tween;\n};\n\nexport const fadeOut = (\n\tsprite: DisplayObject,\n\tduration: number,\n\teasing = Easing.Linear.None,\n\tinterpolation = Interpolation.Linear,\n): Tween => {\n\tconst tween = new Tween();\n\ttween.onUpdate = (props) => {\n\t\tsprite.alpha = props.alpha;\n\t};\n\ttween\n\t\t.from({ alpha: sprite.alpha })\n\t\t.to({ alpha: 0 })\n\t\t.duration(duration)\n\t\t.easing(easing)\n\t\t.interpolation(interpolation)\n\t\t.start();\n\n\treturn tween;\n};\n\nexport const pulse = (\n\tsprite: DisplayObject,\n\tminAlpha: number,\n\tduration: number,\n\teasing = Easing.Linear.None,\n\tinterpolation = Interpolation.Linear,\n): Tween => {\n\tconst tween = new Tween();\n\ttween.onUpdate = (props) => {\n\t\tsprite.alpha = props.alpha;\n\t};\n\ttween\n\t\t.from({ alpha: sprite.alpha })\n\t\t.to({ alpha: minAlpha })\n\t\t.duration(duration)\n\t\t.yoyo(true)\n\t\t.easing(easing)\n\t\t.interpolation(interpolation)\n\t\t.start();\n\n\treturn tween;\n};\n\nexport const slide = (\n\tsprite: DisplayObject,\n\tto: Record<string, any>,\n\tduration: number,\n\teasing = Easing.Linear.None,\n\tinterpolation = Interpolation.Linear,\n): Tween => {\n\tconst tween = new Tween();\n\ttween.onUpdate = (props) => {\n\t\tsprite.position = new Point(props.x, props.y);\n\t};\n\ttween\n\t\t.from({ x: sprite.position.x, y: sprite.position.y })\n\t\t.to(to)\n\t\t.duration(duration)\n\t\t.easing(easing)\n\t\t.interpolation(interpolation)\n\t\t.start();\n\n\treturn tween;\n};\n\nexport const blink = (\n\tsprite: DisplayObject,\n\tduration: number,\n\tyoyo: boolean = true,\n\teasing = Easing.Linear.None,\n\tinterpolation = Interpolation.Linear,\n): Tween => {\n\tconst tween = new Tween();\n\ttween.onUpdate = (props) => {\n\t\tsprite.visible = !!Math.round(props.updateVisible);\n\t};\n\ttween\n\t\t.from({ updateVisible: 0 })\n\t\t.to({ updateVisible: 1 })\n\t\t.duration(duration)\n\t\t.yoyo(yoyo)\n\t\t.easing(easing)\n\t\t.interpolation(interpolation)\n\t\t.start();\n\n\treturn tween;\n};\n\nexport const playSfx = (\n\tfrequencyValue: number,\n\tattack: number = 0,\n\tdecay: number = 1,\n\ttype: \"sine\" | \"triangle\" | \"square\" | \"sawtooth\" = \"sine\",\n\tvolumeValue: number = 1,\n\tpanValue: number = 1,\n\twait: number = 0,\n\t// pitchBendAmount: number = 0,\n\t// reverse: boolean = false,\n\trandomValue: number = 0,\n\t// dissonance: number = 0,\n\t// echo: number[] | undefined = undefined,\n\t// reverb: number[] | undefined = undefined,\n): void => {\n\tconst sfx = new Sound(\"\");\n\n\tsfx.oscillatorNode.connect(sfx.volumeNode);\n\tsfx.volumeNode.connect(sfx.panNode);\n\tsfx.panNode.connect(sfx.audioContextDestination);\n\n\tsfx.volume = volumeValue;\n\tsfx.pan = panValue;\n\tsfx.oscillatorNode.type = type;\n\n\tif (randomValue > 0) {\n\t\tfrequencyValue = randomInt(\n\t\t\tfrequencyValue - randomValue / 2,\n\t\t\tfrequencyValue + randomValue / 2,\n\t\t);\n\t}\n\n\tsfx.oscillatorNode.frequency.value = frequencyValue;\n\n\tif (attack > 0) sfx.fadeIn(sfx.volume, wait);\n\tif (decay > 0) sfx.fadeOut(sfx.volume, wait);\n\n\tsfx.oscillatorNode.start(wait);\n\n\t/*\n\tconst oscillator = this._actx.createOscillator();\n\n\toscillator.connect(this._volumeNode);\n\tthis._volumeNode.connect(this._panNode);\n\tthis._panNode.connect(this._actx.destination);\n\n\n\toscillator.start(this._actx.currentTime + wait);\n\t*/\n\t// snd.playSfx(frequencyValue, type, wait, randomValue);\n};\n"]}